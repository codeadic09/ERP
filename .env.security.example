# ══════════════════════════════════════════════════════════
# SECURITY ENVIRONMENT VARIABLES
# Copy this to .env.local and fill in real values
# ⚠️  NEVER commit .env.local to version control!
# ══════════════════════════════════════════════════════════

# ── Supabase (REQUIRED) ─────────────────────────────────
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# ⚠️  SERVICE ROLE KEY — server-only, bypasses RLS
# Never prefix with NEXT_PUBLIC_ — that exposes it to the browser!
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ── App URL (for CSRF origin validation) ────────────────
NEXT_PUBLIC_APP_URL=https://your-production-domain.com

# ══════════════════════════════════════════════════════════
# SECURITY CHECKLIST BEFORE DEPLOYING:
# ══════════════════════════════════════════════════════════
#
# 1. ✅ Set NEXT_PUBLIC_APP_URL to your real production domain
# 2. ✅ Ensure SUPABASE_SERVICE_ROLE_KEY is set (NOT prefixed with NEXT_PUBLIC_)
# 3. ✅ Run the RLS policies SQL in Supabase Dashboard:
#       → lib/security/rls-policies.sql
# 4. ✅ Enable "Enforce email confirmation" in Supabase Auth settings
# 5. ✅ Enable "Leaked password protection" in Supabase Auth settings
# 6. ✅ Set Auth rate limits in Supabase Dashboard → Auth → Rate Limits
# 7. ✅ In Supabase Dashboard → Settings → API:
#       - Restrict the Anon key's allowed origins to your domain
# 8. ✅ Enable HTTPS on your hosting provider (Vercel does this by default)
# 9. ✅ Never expose stack traces in production (we handle this in API routes)
# 10.✅ Review and test all security headers with:
#       https://securityheaders.com
#       https://observatory.mozilla.org
